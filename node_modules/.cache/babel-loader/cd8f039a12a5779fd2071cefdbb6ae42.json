{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.getBoundsForNode = getBoundsForNode;\nexports.getEventNodeFromPoint = getEventNodeFromPoint;\nexports.isEvent = isEvent;\nexports.objectsCollide = objectsCollide;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _contains = _interopRequireDefault(require(\"dom-helpers/contains\"));\n\nvar _closest = _interopRequireDefault(require(\"dom-helpers/closest\"));\n\nvar _listen = _interopRequireDefault(require(\"dom-helpers/listen\"));\n\nfunction addEventListener(type, handler) {\n  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  return (0, _listen.default)(target, type, handler, {\n    passive: false\n  });\n}\n\nfunction isOverContainer(container, x, y) {\n  return !container || (0, _contains.default)(container, document.elementFromPoint(x, y));\n}\n\nfunction getEventNodeFromPoint(node, _ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n  var target = document.elementFromPoint(clientX, clientY);\n  return (0, _closest.default)(target, '.rbc-event', node);\n}\n\nfunction isEvent(node, bounds) {\n  return !!getEventNodeFromPoint(node, bounds);\n}\n\nfunction getEventCoordinates(e) {\n  var target = e;\n\n  if (e.touches && e.touches.length) {\n    target = e.touches[0];\n  }\n\n  return {\n    clientX: target.clientX,\n    clientY: target.clientY,\n    pageX: target.pageX,\n    pageY: target.pageY\n  };\n}\n\nvar clickTolerance = 5;\nvar clickInterval = 250;\n\nvar Selection = /*#__PURE__*/function () {\n  function Selection(node) {\n    var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref2$global = _ref2.global,\n        global = _ref2$global === void 0 ? false : _ref2$global,\n        _ref2$longPressThresh = _ref2.longPressThreshold,\n        longPressThreshold = _ref2$longPressThresh === void 0 ? 250 : _ref2$longPressThresh,\n        _ref2$validContainers = _ref2.validContainers,\n        validContainers = _ref2$validContainers === void 0 ? [] : _ref2$validContainers;\n\n    (0, _classCallCheck2.default)(this, Selection);\n    this.isDetached = false;\n    this.container = node;\n    this.globalMouse = !node || global;\n    this.longPressThreshold = longPressThreshold;\n    this.validContainers = validContainers;\n    this._listeners = Object.create(null);\n    this._handleInitialEvent = this._handleInitialEvent.bind(this);\n    this._handleMoveEvent = this._handleMoveEvent.bind(this);\n    this._handleTerminatingEvent = this._handleTerminatingEvent.bind(this);\n    this._keyListener = this._keyListener.bind(this);\n    this._dropFromOutsideListener = this._dropFromOutsideListener.bind(this);\n    this._dragOverFromOutsideListener = this._dragOverFromOutsideListener.bind(this); // Fixes an iOS 10 bug where scrolling could not be prevented on the window.\n    // https://github.com/metafizzy/flickity/issues/457#issuecomment-254501356\n\n    this._removeTouchMoveWindowListener = addEventListener('touchmove', function () {}, window);\n    this._removeKeyDownListener = addEventListener('keydown', this._keyListener);\n    this._removeKeyUpListener = addEventListener('keyup', this._keyListener);\n    this._removeDropFromOutsideListener = addEventListener('drop', this._dropFromOutsideListener);\n    this._removeDragOverFromOutsideListener = addEventListener('dragover', this._dragOverFromOutsideListener);\n\n    this._addInitialEventListener();\n  }\n\n  (0, _createClass2.default)(Selection, [{\n    key: \"on\",\n    value: function on(type, handler) {\n      var handlers = this._listeners[type] || (this._listeners[type] = []);\n      handlers.push(handler);\n      return {\n        remove: function remove() {\n          var idx = handlers.indexOf(handler);\n          if (idx !== -1) handlers.splice(idx, 1);\n        }\n      };\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(type) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var result;\n      var handlers = this._listeners[type] || [];\n      handlers.forEach(function (fn) {\n        if (result === undefined) result = fn.apply(void 0, args);\n      });\n      return result;\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      this.isDetached = true;\n      this._listeners = Object.create(null);\n      this._removeTouchMoveWindowListener && this._removeTouchMoveWindowListener();\n      this._removeInitialEventListener && this._removeInitialEventListener();\n      this._removeEndListener && this._removeEndListener();\n      this._onEscListener && this._onEscListener();\n      this._removeMoveListener && this._removeMoveListener();\n      this._removeKeyUpListener && this._removeKeyUpListener();\n      this._removeKeyDownListener && this._removeKeyDownListener();\n      this._removeDropFromOutsideListener && this._removeDropFromOutsideListener();\n      this._removeDragOverFromOutsideListener && this._removeDragOverFromOutsideListener();\n    }\n  }, {\n    key: \"isSelected\",\n    value: function isSelected(node) {\n      var box = this._selectRect;\n      if (!box || !this.selecting) return false;\n      return objectsCollide(box, getBoundsForNode(node));\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(items) {\n      var box = this._selectRect; //not selecting\n\n      if (!box || !this.selecting) return [];\n      return items.filter(this.isSelected, this);\n    } // Adds a listener that will call the handler only after the user has pressed on the screen\n    // without moving their finger for 250ms.\n\n  }, {\n    key: \"_addLongPressListener\",\n    value: function _addLongPressListener(handler, initialEvent) {\n      var _this = this;\n\n      var timer = null;\n      var removeTouchMoveListener = null;\n      var removeTouchEndListener = null;\n\n      var handleTouchStart = function handleTouchStart(initialEvent) {\n        timer = setTimeout(function () {\n          cleanup();\n          handler(initialEvent);\n        }, _this.longPressThreshold);\n        removeTouchMoveListener = addEventListener('touchmove', function () {\n          return cleanup();\n        });\n        removeTouchEndListener = addEventListener('touchend', function () {\n          return cleanup();\n        });\n      };\n\n      var removeTouchStartListener = addEventListener('touchstart', handleTouchStart);\n\n      var cleanup = function cleanup() {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        if (removeTouchMoveListener) {\n          removeTouchMoveListener();\n        }\n\n        if (removeTouchEndListener) {\n          removeTouchEndListener();\n        }\n\n        timer = null;\n        removeTouchMoveListener = null;\n        removeTouchEndListener = null;\n      };\n\n      if (initialEvent) {\n        handleTouchStart(initialEvent);\n      }\n\n      return function () {\n        cleanup();\n        removeTouchStartListener();\n      };\n    } // Listen for mousedown and touchstart events. When one is received, disable the other and setup\n    // future event handling based on the type of event.\n\n  }, {\n    key: \"_addInitialEventListener\",\n    value: function _addInitialEventListener() {\n      var _this2 = this;\n\n      var removeMouseDownListener = addEventListener('mousedown', function (e) {\n        _this2._removeInitialEventListener();\n\n        _this2._handleInitialEvent(e);\n\n        _this2._removeInitialEventListener = addEventListener('mousedown', _this2._handleInitialEvent);\n      });\n      var removeTouchStartListener = addEventListener('touchstart', function (e) {\n        _this2._removeInitialEventListener();\n\n        _this2._removeInitialEventListener = _this2._addLongPressListener(_this2._handleInitialEvent, e);\n      });\n\n      this._removeInitialEventListener = function () {\n        removeMouseDownListener();\n        removeTouchStartListener();\n      };\n    }\n  }, {\n    key: \"_dropFromOutsideListener\",\n    value: function _dropFromOutsideListener(e) {\n      var _getEventCoordinates = getEventCoordinates(e),\n          pageX = _getEventCoordinates.pageX,\n          pageY = _getEventCoordinates.pageY,\n          clientX = _getEventCoordinates.clientX,\n          clientY = _getEventCoordinates.clientY;\n\n      this.emit('dropFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_dragOverFromOutsideListener\",\n    value: function _dragOverFromOutsideListener(e) {\n      var _getEventCoordinates2 = getEventCoordinates(e),\n          pageX = _getEventCoordinates2.pageX,\n          pageY = _getEventCoordinates2.pageY,\n          clientX = _getEventCoordinates2.clientX,\n          clientY = _getEventCoordinates2.clientY;\n\n      this.emit('dragOverFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_handleInitialEvent\",\n    value: function _handleInitialEvent(e) {\n      if (this.isDetached) {\n        return;\n      }\n\n      var _getEventCoordinates3 = getEventCoordinates(e),\n          clientX = _getEventCoordinates3.clientX,\n          clientY = _getEventCoordinates3.clientY,\n          pageX = _getEventCoordinates3.pageX,\n          pageY = _getEventCoordinates3.pageY;\n\n      var node = this.container(),\n          collides,\n          offsetData; // Right clicks\n\n      if (e.which === 3 || e.button === 2 || !isOverContainer(node, clientX, clientY)) return;\n\n      if (!this.globalMouse && node && !(0, _contains.default)(node, e.target)) {\n        var _normalizeDistance = normalizeDistance(0),\n            top = _normalizeDistance.top,\n            left = _normalizeDistance.left,\n            bottom = _normalizeDistance.bottom,\n            right = _normalizeDistance.right;\n\n        offsetData = getBoundsForNode(node);\n        collides = objectsCollide({\n          top: offsetData.top - top,\n          left: offsetData.left - left,\n          bottom: offsetData.bottom + bottom,\n          right: offsetData.right + right\n        }, {\n          top: pageY,\n          left: pageX\n        });\n        if (!collides) return;\n      }\n\n      var result = this.emit('beforeSelect', this._initialEventData = {\n        isTouch: /^touch/.test(e.type),\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      if (result === false) return;\n\n      switch (e.type) {\n        case 'mousedown':\n          this._removeEndListener = addEventListener('mouseup', this._handleTerminatingEvent);\n          this._onEscListener = addEventListener('keydown', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('mousemove', this._handleMoveEvent);\n          break;\n\n        case 'touchstart':\n          this._handleMoveEvent(e);\n\n          this._removeEndListener = addEventListener('touchend', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('touchmove', this._handleMoveEvent);\n          break;\n\n        default:\n          break;\n      }\n    } // Check whether provided event target element\n    // - is contained within a valid container\n\n  }, {\n    key: \"_isWithinValidContainer\",\n    value: function _isWithinValidContainer(e) {\n      var eventTarget = e.target;\n      var containers = this.validContainers;\n\n      if (!containers || !containers.length || !eventTarget) {\n        return true;\n      }\n\n      return containers.some(function (target) {\n        return !!eventTarget.closest(target);\n      });\n    }\n  }, {\n    key: \"_handleTerminatingEvent\",\n    value: function _handleTerminatingEvent(e) {\n      var _getEventCoordinates4 = getEventCoordinates(e),\n          pageX = _getEventCoordinates4.pageX,\n          pageY = _getEventCoordinates4.pageY;\n\n      this.selecting = false;\n      this._removeEndListener && this._removeEndListener();\n      this._removeMoveListener && this._removeMoveListener();\n      if (!this._initialEventData) return;\n      var inRoot = !this.container || (0, _contains.default)(this.container(), e.target);\n\n      var isWithinValidContainer = this._isWithinValidContainer(e);\n\n      var bounds = this._selectRect;\n      var click = this.isClick(pageX, pageY);\n      this._initialEventData = null;\n\n      if (e.key === 'Escape' || !isWithinValidContainer) {\n        return this.emit('reset');\n      }\n\n      if (click && inRoot) {\n        return this._handleClickEvent(e);\n      } // User drag-clicked in the Selectable area\n\n\n      if (!click) return this.emit('select', bounds);\n      return this.emit('reset');\n    }\n  }, {\n    key: \"_handleClickEvent\",\n    value: function _handleClickEvent(e) {\n      var _getEventCoordinates5 = getEventCoordinates(e),\n          pageX = _getEventCoordinates5.pageX,\n          pageY = _getEventCoordinates5.pageY,\n          clientX = _getEventCoordinates5.clientX,\n          clientY = _getEventCoordinates5.clientY;\n\n      var now = new Date().getTime();\n\n      if (this._lastClickData && now - this._lastClickData.timestamp < clickInterval) {\n        // Double click event\n        this._lastClickData = null;\n        return this.emit('doubleClick', {\n          x: pageX,\n          y: pageY,\n          clientX: clientX,\n          clientY: clientY\n        });\n      } // Click event\n\n\n      this._lastClickData = {\n        timestamp: now\n      };\n      return this.emit('click', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n    }\n  }, {\n    key: \"_handleMoveEvent\",\n    value: function _handleMoveEvent(e) {\n      if (this._initialEventData === null || this.isDetached) {\n        return;\n      }\n\n      var _this$_initialEventDa = this._initialEventData,\n          x = _this$_initialEventDa.x,\n          y = _this$_initialEventDa.y;\n\n      var _getEventCoordinates6 = getEventCoordinates(e),\n          pageX = _getEventCoordinates6.pageX,\n          pageY = _getEventCoordinates6.pageY;\n\n      var w = Math.abs(x - pageX);\n      var h = Math.abs(y - pageY);\n      var left = Math.min(pageX, x),\n          top = Math.min(pageY, y),\n          old = this.selecting; // Prevent emitting selectStart event until mouse is moved.\n      // in Chrome on Windows, mouseMove event may be fired just after mouseDown event.\n\n      if (this.isClick(pageX, pageY) && !old && !(w || h)) {\n        return;\n      }\n\n      this.selecting = true;\n      this._selectRect = {\n        top: top,\n        left: left,\n        x: pageX,\n        y: pageY,\n        right: left + w,\n        bottom: top + h\n      };\n\n      if (!old) {\n        this.emit('selectStart', this._initialEventData);\n      }\n\n      if (!this.isClick(pageX, pageY)) this.emit('selecting', this._selectRect);\n      e.preventDefault();\n    }\n  }, {\n    key: \"_keyListener\",\n    value: function _keyListener(e) {\n      this.ctrl = e.metaKey || e.ctrlKey;\n    }\n  }, {\n    key: \"isClick\",\n    value: function isClick(pageX, pageY) {\n      var _this$_initialEventDa2 = this._initialEventData,\n          x = _this$_initialEventDa2.x,\n          y = _this$_initialEventDa2.y,\n          isTouch = _this$_initialEventDa2.isTouch;\n      return !isTouch && Math.abs(pageX - x) <= clickTolerance && Math.abs(pageY - y) <= clickTolerance;\n    }\n  }]);\n  return Selection;\n}();\n/**\n * Resolve the disance prop from either an Int or an Object\n * @return {Object}\n */\n\n\nfunction normalizeDistance() {\n  var distance = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  if ((0, _typeof2.default)(distance) !== 'object') distance = {\n    top: distance,\n    left: distance,\n    right: distance,\n    bottom: distance\n  };\n  return distance;\n}\n/**\n * Given two objects containing \"top\", \"left\", \"offsetWidth\" and \"offsetHeight\"\n * properties, determine if they collide.\n * @param  {Object|HTMLElement} a\n * @param  {Object|HTMLElement} b\n * @return {bool}\n */\n\n\nfunction objectsCollide(nodeA, nodeB) {\n  var tolerance = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  var _getBoundsForNode = getBoundsForNode(nodeA),\n      aTop = _getBoundsForNode.top,\n      aLeft = _getBoundsForNode.left,\n      _getBoundsForNode$rig = _getBoundsForNode.right,\n      aRight = _getBoundsForNode$rig === void 0 ? aLeft : _getBoundsForNode$rig,\n      _getBoundsForNode$bot = _getBoundsForNode.bottom,\n      aBottom = _getBoundsForNode$bot === void 0 ? aTop : _getBoundsForNode$bot;\n\n  var _getBoundsForNode2 = getBoundsForNode(nodeB),\n      bTop = _getBoundsForNode2.top,\n      bLeft = _getBoundsForNode2.left,\n      _getBoundsForNode2$ri = _getBoundsForNode2.right,\n      bRight = _getBoundsForNode2$ri === void 0 ? bLeft : _getBoundsForNode2$ri,\n      _getBoundsForNode2$bo = _getBoundsForNode2.bottom,\n      bBottom = _getBoundsForNode2$bo === void 0 ? bTop : _getBoundsForNode2$bo;\n\n  return !( // 'a' bottom doesn't touch 'b' top\n  aBottom - tolerance < bTop || // 'a' top doesn't touch 'b' bottom\n  aTop + tolerance > bBottom || // 'a' right doesn't touch 'b' left\n  aRight - tolerance < bLeft || // 'a' left doesn't touch 'b' right\n  aLeft + tolerance > bRight);\n}\n/**\n * Given a node, get everything needed to calculate its boundaries\n * @param  {HTMLElement} node\n * @return {Object}\n */\n\n\nfunction getBoundsForNode(node) {\n  if (!node.getBoundingClientRect) return node;\n  var rect = node.getBoundingClientRect(),\n      left = rect.left + pageOffset('left'),\n      top = rect.top + pageOffset('top');\n  return {\n    top: top,\n    left: left,\n    right: (node.offsetWidth || 0) + left,\n    bottom: (node.offsetHeight || 0) + top\n  };\n}\n\nfunction pageOffset(dir) {\n  if (dir === 'left') return window.pageXOffset || document.body.scrollLeft || 0;\n  if (dir === 'top') return window.pageYOffset || document.body.scrollTop || 0;\n}\n\nvar _default = Selection;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","default","Object","defineProperty","exports","value","getBoundsForNode","getEventNodeFromPoint","isEvent","objectsCollide","_typeof2","_classCallCheck2","_createClass2","_contains","_closest","_listen","addEventListener","type","handler","target","arguments","length","undefined","document","passive","isOverContainer","container","x","y","elementFromPoint","node","_ref","clientX","clientY","bounds","getEventCoordinates","e","touches","pageX","pageY","clickTolerance","clickInterval","Selection","_ref2","_ref2$global","global","_ref2$longPressThresh","longPressThreshold","_ref2$validContainers","validContainers","isDetached","globalMouse","_listeners","create","_handleInitialEvent","bind","_handleMoveEvent","_handleTerminatingEvent","_keyListener","_dropFromOutsideListener","_dragOverFromOutsideListener","_removeTouchMoveWindowListener","window","_removeKeyDownListener","_removeKeyUpListener","_removeDropFromOutsideListener","_removeDragOverFromOutsideListener","_addInitialEventListener","key","on","handlers","push","remove","idx","indexOf","splice","emit","_len","args","Array","_key","result","forEach","fn","apply","teardown","_removeInitialEventListener","_removeEndListener","_onEscListener","_removeMoveListener","isSelected","box","_selectRect","selecting","filter","items","_addLongPressListener","initialEvent","_this","timer","removeTouchMoveListener","removeTouchEndListener","handleTouchStart","setTimeout","cleanup","removeTouchStartListener","clearTimeout","_this2","removeMouseDownListener","_getEventCoordinates","preventDefault","_getEventCoordinates2","_getEventCoordinates3","collides","offsetData","which","button","_normalizeDistance","normalizeDistance","top","left","bottom","right","_initialEventData","isTouch","test","_isWithinValidContainer","eventTarget","containers","some","closest","_getEventCoordinates4","inRoot","isWithinValidContainer","click","isClick","_handleClickEvent","_getEventCoordinates5","now","Date","getTime","_lastClickData","timestamp","_this$_initialEventDa","_getEventCoordinates6","w","Math","abs","h","min","old","ctrl","metaKey","ctrlKey","_this$_initialEventDa2","distance","nodeA","nodeB","tolerance","_getBoundsForNode","aTop","aLeft","_getBoundsForNode$rig","aRight","_getBoundsForNode$bot","aBottom","_getBoundsForNode2","bTop","bLeft","_getBoundsForNode2$ri","bRight","_getBoundsForNode2$bo","bBottom","getBoundingClientRect","rect","pageOffset","offsetWidth","offsetHeight","dir","pageXOffset","body","scrollLeft","pageYOffset","scrollTop","_default"],"sources":["C:/Users/leandro.wilker/Desktop/WEBLND/app-web-lnd/node_modules/react-big-calendar/lib/Selection.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.getBoundsForNode = getBoundsForNode;\nexports.getEventNodeFromPoint = getEventNodeFromPoint;\nexports.isEvent = isEvent;\nexports.objectsCollide = objectsCollide;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _contains = _interopRequireDefault(require(\"dom-helpers/contains\"));\n\nvar _closest = _interopRequireDefault(require(\"dom-helpers/closest\"));\n\nvar _listen = _interopRequireDefault(require(\"dom-helpers/listen\"));\n\nfunction addEventListener(type, handler) {\n  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  return (0, _listen.default)(target, type, handler, {\n    passive: false\n  });\n}\n\nfunction isOverContainer(container, x, y) {\n  return !container || (0, _contains.default)(container, document.elementFromPoint(x, y));\n}\n\nfunction getEventNodeFromPoint(node, _ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n  var target = document.elementFromPoint(clientX, clientY);\n  return (0, _closest.default)(target, '.rbc-event', node);\n}\n\nfunction isEvent(node, bounds) {\n  return !!getEventNodeFromPoint(node, bounds);\n}\n\nfunction getEventCoordinates(e) {\n  var target = e;\n\n  if (e.touches && e.touches.length) {\n    target = e.touches[0];\n  }\n\n  return {\n    clientX: target.clientX,\n    clientY: target.clientY,\n    pageX: target.pageX,\n    pageY: target.pageY\n  };\n}\n\nvar clickTolerance = 5;\nvar clickInterval = 250;\n\nvar Selection = /*#__PURE__*/function () {\n  function Selection(node) {\n    var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref2$global = _ref2.global,\n        global = _ref2$global === void 0 ? false : _ref2$global,\n        _ref2$longPressThresh = _ref2.longPressThreshold,\n        longPressThreshold = _ref2$longPressThresh === void 0 ? 250 : _ref2$longPressThresh,\n        _ref2$validContainers = _ref2.validContainers,\n        validContainers = _ref2$validContainers === void 0 ? [] : _ref2$validContainers;\n\n    (0, _classCallCheck2.default)(this, Selection);\n    this.isDetached = false;\n    this.container = node;\n    this.globalMouse = !node || global;\n    this.longPressThreshold = longPressThreshold;\n    this.validContainers = validContainers;\n    this._listeners = Object.create(null);\n    this._handleInitialEvent = this._handleInitialEvent.bind(this);\n    this._handleMoveEvent = this._handleMoveEvent.bind(this);\n    this._handleTerminatingEvent = this._handleTerminatingEvent.bind(this);\n    this._keyListener = this._keyListener.bind(this);\n    this._dropFromOutsideListener = this._dropFromOutsideListener.bind(this);\n    this._dragOverFromOutsideListener = this._dragOverFromOutsideListener.bind(this); // Fixes an iOS 10 bug where scrolling could not be prevented on the window.\n    // https://github.com/metafizzy/flickity/issues/457#issuecomment-254501356\n\n    this._removeTouchMoveWindowListener = addEventListener('touchmove', function () {}, window);\n    this._removeKeyDownListener = addEventListener('keydown', this._keyListener);\n    this._removeKeyUpListener = addEventListener('keyup', this._keyListener);\n    this._removeDropFromOutsideListener = addEventListener('drop', this._dropFromOutsideListener);\n    this._removeDragOverFromOutsideListener = addEventListener('dragover', this._dragOverFromOutsideListener);\n\n    this._addInitialEventListener();\n  }\n\n  (0, _createClass2.default)(Selection, [{\n    key: \"on\",\n    value: function on(type, handler) {\n      var handlers = this._listeners[type] || (this._listeners[type] = []);\n      handlers.push(handler);\n      return {\n        remove: function remove() {\n          var idx = handlers.indexOf(handler);\n          if (idx !== -1) handlers.splice(idx, 1);\n        }\n      };\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(type) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var result;\n      var handlers = this._listeners[type] || [];\n      handlers.forEach(function (fn) {\n        if (result === undefined) result = fn.apply(void 0, args);\n      });\n      return result;\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      this.isDetached = true;\n      this._listeners = Object.create(null);\n      this._removeTouchMoveWindowListener && this._removeTouchMoveWindowListener();\n      this._removeInitialEventListener && this._removeInitialEventListener();\n      this._removeEndListener && this._removeEndListener();\n      this._onEscListener && this._onEscListener();\n      this._removeMoveListener && this._removeMoveListener();\n      this._removeKeyUpListener && this._removeKeyUpListener();\n      this._removeKeyDownListener && this._removeKeyDownListener();\n      this._removeDropFromOutsideListener && this._removeDropFromOutsideListener();\n      this._removeDragOverFromOutsideListener && this._removeDragOverFromOutsideListener();\n    }\n  }, {\n    key: \"isSelected\",\n    value: function isSelected(node) {\n      var box = this._selectRect;\n      if (!box || !this.selecting) return false;\n      return objectsCollide(box, getBoundsForNode(node));\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(items) {\n      var box = this._selectRect; //not selecting\n\n      if (!box || !this.selecting) return [];\n      return items.filter(this.isSelected, this);\n    } // Adds a listener that will call the handler only after the user has pressed on the screen\n    // without moving their finger for 250ms.\n\n  }, {\n    key: \"_addLongPressListener\",\n    value: function _addLongPressListener(handler, initialEvent) {\n      var _this = this;\n\n      var timer = null;\n      var removeTouchMoveListener = null;\n      var removeTouchEndListener = null;\n\n      var handleTouchStart = function handleTouchStart(initialEvent) {\n        timer = setTimeout(function () {\n          cleanup();\n          handler(initialEvent);\n        }, _this.longPressThreshold);\n        removeTouchMoveListener = addEventListener('touchmove', function () {\n          return cleanup();\n        });\n        removeTouchEndListener = addEventListener('touchend', function () {\n          return cleanup();\n        });\n      };\n\n      var removeTouchStartListener = addEventListener('touchstart', handleTouchStart);\n\n      var cleanup = function cleanup() {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        if (removeTouchMoveListener) {\n          removeTouchMoveListener();\n        }\n\n        if (removeTouchEndListener) {\n          removeTouchEndListener();\n        }\n\n        timer = null;\n        removeTouchMoveListener = null;\n        removeTouchEndListener = null;\n      };\n\n      if (initialEvent) {\n        handleTouchStart(initialEvent);\n      }\n\n      return function () {\n        cleanup();\n        removeTouchStartListener();\n      };\n    } // Listen for mousedown and touchstart events. When one is received, disable the other and setup\n    // future event handling based on the type of event.\n\n  }, {\n    key: \"_addInitialEventListener\",\n    value: function _addInitialEventListener() {\n      var _this2 = this;\n\n      var removeMouseDownListener = addEventListener('mousedown', function (e) {\n        _this2._removeInitialEventListener();\n\n        _this2._handleInitialEvent(e);\n\n        _this2._removeInitialEventListener = addEventListener('mousedown', _this2._handleInitialEvent);\n      });\n      var removeTouchStartListener = addEventListener('touchstart', function (e) {\n        _this2._removeInitialEventListener();\n\n        _this2._removeInitialEventListener = _this2._addLongPressListener(_this2._handleInitialEvent, e);\n      });\n\n      this._removeInitialEventListener = function () {\n        removeMouseDownListener();\n        removeTouchStartListener();\n      };\n    }\n  }, {\n    key: \"_dropFromOutsideListener\",\n    value: function _dropFromOutsideListener(e) {\n      var _getEventCoordinates = getEventCoordinates(e),\n          pageX = _getEventCoordinates.pageX,\n          pageY = _getEventCoordinates.pageY,\n          clientX = _getEventCoordinates.clientX,\n          clientY = _getEventCoordinates.clientY;\n\n      this.emit('dropFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_dragOverFromOutsideListener\",\n    value: function _dragOverFromOutsideListener(e) {\n      var _getEventCoordinates2 = getEventCoordinates(e),\n          pageX = _getEventCoordinates2.pageX,\n          pageY = _getEventCoordinates2.pageY,\n          clientX = _getEventCoordinates2.clientX,\n          clientY = _getEventCoordinates2.clientY;\n\n      this.emit('dragOverFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_handleInitialEvent\",\n    value: function _handleInitialEvent(e) {\n      if (this.isDetached) {\n        return;\n      }\n\n      var _getEventCoordinates3 = getEventCoordinates(e),\n          clientX = _getEventCoordinates3.clientX,\n          clientY = _getEventCoordinates3.clientY,\n          pageX = _getEventCoordinates3.pageX,\n          pageY = _getEventCoordinates3.pageY;\n\n      var node = this.container(),\n          collides,\n          offsetData; // Right clicks\n\n      if (e.which === 3 || e.button === 2 || !isOverContainer(node, clientX, clientY)) return;\n\n      if (!this.globalMouse && node && !(0, _contains.default)(node, e.target)) {\n        var _normalizeDistance = normalizeDistance(0),\n            top = _normalizeDistance.top,\n            left = _normalizeDistance.left,\n            bottom = _normalizeDistance.bottom,\n            right = _normalizeDistance.right;\n\n        offsetData = getBoundsForNode(node);\n        collides = objectsCollide({\n          top: offsetData.top - top,\n          left: offsetData.left - left,\n          bottom: offsetData.bottom + bottom,\n          right: offsetData.right + right\n        }, {\n          top: pageY,\n          left: pageX\n        });\n        if (!collides) return;\n      }\n\n      var result = this.emit('beforeSelect', this._initialEventData = {\n        isTouch: /^touch/.test(e.type),\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      if (result === false) return;\n\n      switch (e.type) {\n        case 'mousedown':\n          this._removeEndListener = addEventListener('mouseup', this._handleTerminatingEvent);\n          this._onEscListener = addEventListener('keydown', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('mousemove', this._handleMoveEvent);\n          break;\n\n        case 'touchstart':\n          this._handleMoveEvent(e);\n\n          this._removeEndListener = addEventListener('touchend', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('touchmove', this._handleMoveEvent);\n          break;\n\n        default:\n          break;\n      }\n    } // Check whether provided event target element\n    // - is contained within a valid container\n\n  }, {\n    key: \"_isWithinValidContainer\",\n    value: function _isWithinValidContainer(e) {\n      var eventTarget = e.target;\n      var containers = this.validContainers;\n\n      if (!containers || !containers.length || !eventTarget) {\n        return true;\n      }\n\n      return containers.some(function (target) {\n        return !!eventTarget.closest(target);\n      });\n    }\n  }, {\n    key: \"_handleTerminatingEvent\",\n    value: function _handleTerminatingEvent(e) {\n      var _getEventCoordinates4 = getEventCoordinates(e),\n          pageX = _getEventCoordinates4.pageX,\n          pageY = _getEventCoordinates4.pageY;\n\n      this.selecting = false;\n      this._removeEndListener && this._removeEndListener();\n      this._removeMoveListener && this._removeMoveListener();\n      if (!this._initialEventData) return;\n      var inRoot = !this.container || (0, _contains.default)(this.container(), e.target);\n\n      var isWithinValidContainer = this._isWithinValidContainer(e);\n\n      var bounds = this._selectRect;\n      var click = this.isClick(pageX, pageY);\n      this._initialEventData = null;\n\n      if (e.key === 'Escape' || !isWithinValidContainer) {\n        return this.emit('reset');\n      }\n\n      if (click && inRoot) {\n        return this._handleClickEvent(e);\n      } // User drag-clicked in the Selectable area\n\n\n      if (!click) return this.emit('select', bounds);\n      return this.emit('reset');\n    }\n  }, {\n    key: \"_handleClickEvent\",\n    value: function _handleClickEvent(e) {\n      var _getEventCoordinates5 = getEventCoordinates(e),\n          pageX = _getEventCoordinates5.pageX,\n          pageY = _getEventCoordinates5.pageY,\n          clientX = _getEventCoordinates5.clientX,\n          clientY = _getEventCoordinates5.clientY;\n\n      var now = new Date().getTime();\n\n      if (this._lastClickData && now - this._lastClickData.timestamp < clickInterval) {\n        // Double click event\n        this._lastClickData = null;\n        return this.emit('doubleClick', {\n          x: pageX,\n          y: pageY,\n          clientX: clientX,\n          clientY: clientY\n        });\n      } // Click event\n\n\n      this._lastClickData = {\n        timestamp: now\n      };\n      return this.emit('click', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n    }\n  }, {\n    key: \"_handleMoveEvent\",\n    value: function _handleMoveEvent(e) {\n      if (this._initialEventData === null || this.isDetached) {\n        return;\n      }\n\n      var _this$_initialEventDa = this._initialEventData,\n          x = _this$_initialEventDa.x,\n          y = _this$_initialEventDa.y;\n\n      var _getEventCoordinates6 = getEventCoordinates(e),\n          pageX = _getEventCoordinates6.pageX,\n          pageY = _getEventCoordinates6.pageY;\n\n      var w = Math.abs(x - pageX);\n      var h = Math.abs(y - pageY);\n      var left = Math.min(pageX, x),\n          top = Math.min(pageY, y),\n          old = this.selecting; // Prevent emitting selectStart event until mouse is moved.\n      // in Chrome on Windows, mouseMove event may be fired just after mouseDown event.\n\n      if (this.isClick(pageX, pageY) && !old && !(w || h)) {\n        return;\n      }\n\n      this.selecting = true;\n      this._selectRect = {\n        top: top,\n        left: left,\n        x: pageX,\n        y: pageY,\n        right: left + w,\n        bottom: top + h\n      };\n\n      if (!old) {\n        this.emit('selectStart', this._initialEventData);\n      }\n\n      if (!this.isClick(pageX, pageY)) this.emit('selecting', this._selectRect);\n      e.preventDefault();\n    }\n  }, {\n    key: \"_keyListener\",\n    value: function _keyListener(e) {\n      this.ctrl = e.metaKey || e.ctrlKey;\n    }\n  }, {\n    key: \"isClick\",\n    value: function isClick(pageX, pageY) {\n      var _this$_initialEventDa2 = this._initialEventData,\n          x = _this$_initialEventDa2.x,\n          y = _this$_initialEventDa2.y,\n          isTouch = _this$_initialEventDa2.isTouch;\n      return !isTouch && Math.abs(pageX - x) <= clickTolerance && Math.abs(pageY - y) <= clickTolerance;\n    }\n  }]);\n  return Selection;\n}();\n/**\n * Resolve the disance prop from either an Int or an Object\n * @return {Object}\n */\n\n\nfunction normalizeDistance() {\n  var distance = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  if ((0, _typeof2.default)(distance) !== 'object') distance = {\n    top: distance,\n    left: distance,\n    right: distance,\n    bottom: distance\n  };\n  return distance;\n}\n/**\n * Given two objects containing \"top\", \"left\", \"offsetWidth\" and \"offsetHeight\"\n * properties, determine if they collide.\n * @param  {Object|HTMLElement} a\n * @param  {Object|HTMLElement} b\n * @return {bool}\n */\n\n\nfunction objectsCollide(nodeA, nodeB) {\n  var tolerance = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  var _getBoundsForNode = getBoundsForNode(nodeA),\n      aTop = _getBoundsForNode.top,\n      aLeft = _getBoundsForNode.left,\n      _getBoundsForNode$rig = _getBoundsForNode.right,\n      aRight = _getBoundsForNode$rig === void 0 ? aLeft : _getBoundsForNode$rig,\n      _getBoundsForNode$bot = _getBoundsForNode.bottom,\n      aBottom = _getBoundsForNode$bot === void 0 ? aTop : _getBoundsForNode$bot;\n\n  var _getBoundsForNode2 = getBoundsForNode(nodeB),\n      bTop = _getBoundsForNode2.top,\n      bLeft = _getBoundsForNode2.left,\n      _getBoundsForNode2$ri = _getBoundsForNode2.right,\n      bRight = _getBoundsForNode2$ri === void 0 ? bLeft : _getBoundsForNode2$ri,\n      _getBoundsForNode2$bo = _getBoundsForNode2.bottom,\n      bBottom = _getBoundsForNode2$bo === void 0 ? bTop : _getBoundsForNode2$bo;\n\n  return !( // 'a' bottom doesn't touch 'b' top\n  aBottom - tolerance < bTop || // 'a' top doesn't touch 'b' bottom\n  aTop + tolerance > bBottom || // 'a' right doesn't touch 'b' left\n  aRight - tolerance < bLeft || // 'a' left doesn't touch 'b' right\n  aLeft + tolerance > bRight);\n}\n/**\n * Given a node, get everything needed to calculate its boundaries\n * @param  {HTMLElement} node\n * @return {Object}\n */\n\n\nfunction getBoundsForNode(node) {\n  if (!node.getBoundingClientRect) return node;\n  var rect = node.getBoundingClientRect(),\n      left = rect.left + pageOffset('left'),\n      top = rect.top + pageOffset('top');\n  return {\n    top: top,\n    left: left,\n    right: (node.offsetWidth || 0) + left,\n    bottom: (node.offsetHeight || 0) + top\n  };\n}\n\nfunction pageOffset(dir) {\n  if (dir === 'left') return window.pageXOffset || document.body.scrollLeft || 0;\n  if (dir === 'top') return window.pageYOffset || document.body.scrollTop || 0;\n}\n\nvar _default = Selection;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}